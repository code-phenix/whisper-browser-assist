<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customer Care - Returns & Replacements</title>
    <link rel="stylesheet" href="../src/customer-care/style.css">
</head>

<body>
    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay">
        <div class="loading-content">
            <div class="loading-header">
                <h2>🔄 Loading AI Models</h2>
                <p>Please wait while we load the voice recognition and language models...</p>
            </div>
            
            <div class="model-loading-section">
                <div class="model-item">
                    <div class="model-info">
                        <span class="model-icon">🎤</span>
                        <span class="model-name">Whisper Model</span>
                        <span class="model-status" id="whisper-status">Initializing...</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="whisper-progress"></div>
                    </div>
                </div>
                
                <div class="model-item">
                    <div class="model-info">
                        <span class="model-icon">🦙</span>
                        <span class="model-name">TinyLlama Model</span>
                        <span class="model-status" id="llama-status">Initializing...</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="llama-progress"></div>
                    </div>
                </div>
            </div>
            
            <div class="loading-footer">
                <div class="overall-progress">
                    <span>Overall Progress: </span>
                    <span id="overall-progress-text">0%</span>
                </div>
                <div class="loading-tips">
                    <p>💡 Tip: This may take 10-30 seconds depending on your device</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container">
        <header class="header">
            <h1>Customer Care Portal</h1>
            <p>Returns, Replacements & Support</p>
        </header>

        <nav class="nav">
            <a href="#returns" class="nav-link active">Returns</a>
            <a href="#replacements" class="nav-link">Replacements</a>
            <a href="#tracking" class="nav-link">Tracking</a>
            <a href="#contact" class="nav-link">Contact</a>
        </nav>

        <main class="main-content">
            <!-- Returns Section -->
            <section id="returns" class="section active">
                <h2>Return Request</h2>
                <div class="customer-info">
                    <h3>Customer Information</h3>
                    <div class="customer-details">
                        <div class="customer-detail">
                            <label>Name:</label>
                            <span id="customer-name">Loading...</span>
                        </div>
                        <div class="customer-detail">
                            <label>Email:</label>
                            <span id="customer-email">Loading...</span>
                        </div>
                        <div class="customer-detail">
                            <label>Phone:</label>
                            <span id="customer-phone">Loading...</span>
                        </div>
                    </div>
                </div>

                <form class="return-form">
                    <div class="form-group">
                        <label for="order-number">Order Number:</label>
                        <input type="text" id="order-number" name="orderNumber" required>
                    </div>
                    <div class="form-group">
                        <label for="return-reason">Reason for Return:</label>
                        <select id="return-reason" name="returnReason" required>
                            <option value="">Select a reason</option>
                            <option value="defective">Defective Product</option>
                            <option value="wrong-size">Wrong Size</option>
                            <option value="not-as-described">Not as Described</option>
                            <option value="changed-mind">Changed Mind</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="return-description">Description:</label>
                        <textarea id="return-description" name="description" rows="4" placeholder="Please describe the issue..."></textarea>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">Submit Return Request</button>
                    </div>
                </form>
            </section>

            <!-- Replacements Section -->
            <section id="replacements" class="section">
                <h2>Replacement Request</h2>
                <form class="replacement-form">
                    <div class="form-group">
                        <label for="replacement-order">Original Order Number:</label>
                        <input type="text" id="replacement-order" name="originalOrder" required>
                    </div>
                    <div class="form-group">
                        <label for="replacement-reason">Reason for Replacement:</label>
                        <select id="replacement-reason" name="replacementReason" required>
                            <option value="">Select a reason</option>
                            <option value="defective">Defective Product</option>
                            <option value="damaged">Damaged in Transit</option>
                            <option value="wrong-item">Wrong Item Received</option>
                            <option value="quality-issue">Quality Issue</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="replacement-description">Issue Description:</label>
                        <textarea id="replacement-description" name="description" rows="4" placeholder="Please describe the issue..."></textarea>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">Submit Replacement Request</button>
                    </div>
                </form>
            </section>

            <!-- Tracking Section -->
            <section id="tracking" class="section">
                <h2>Track Your Request</h2>
                <div class="tracking-form">
                    <div class="form-group">
                        <label for="trackingNumber">Tracking Number:</label>
                        <input type="text" id="trackingNumber" placeholder="Enter your tracking number">
                        <button onclick="trackRequest()" class="btn btn-secondary">Track</button>
                    </div>
                    <div id="trackingResults" style="display: none;">
                        <h3>Tracking Results</h3>
                        <div class="tracking-info">
                            <p><strong>Status:</strong> <span id="tracking-status">Processing</span></p>
                            <p><strong>Last Update:</strong> <span id="tracking-date">2024-01-15</span></p>
                            <p><strong>Estimated Delivery:</strong> <span id="tracking-delivery">2024-01-20</span></p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Contact Section -->
            <section id="contact" class="section">
                <h2>Contact Support</h2>
                <div class="contact-info">
                    <div class="contact-card">
                        <h3>📞 Phone Support</h3>
                        <p><strong>Hours:</strong> 24/7</p>
                        <p><strong>Number:</strong> 1-800-WALMART</p>
                    </div>
                    <div class="contact-card">
                        <h3>💬 Live Chat</h3>
                        <p><strong>Hours:</strong> 6 AM - 10 PM EST</p>
                        <p><strong>Status:</strong> Available</p>
                    </div>
                    <div class="contact-card">
                        <h3>📧 Email Support</h3>
                        <p><strong>Response Time:</strong> 24 hours</p>
                        <p><strong>Email:</strong> support@walmart.com</p>
                    </div>
                </div>
                
                <div class="faq-section">
                    <h3>Frequently Asked Questions</h3>
                    <div class="faq-item">
                        <h4>How long does a return take to process?</h4>
                        <p>Returns are typically processed within 3-5 business days after we receive your item.</p>
                    </div>
                    <div class="faq-item">
                        <h4>When will I receive my refund?</h4>
                        <p>Refunds are processed within 5-7 business days after we receive and inspect your return.
                        </p>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Voice Control Panel -->
    <div id="voice-control-panel" class="voice-panel">
        <div class="voice-panel-header" id="voice-panel-header">
            <span>🎤 Voice Transcription</span>
            <button id="voice-panel-minimize" class="voice-panel-minimize" title="Minimize">_</button>
        </div>
        <div class="voice-panel-body" id="voice-panel-body">
            <div>Status: <span id="voice-status">Idle</span></div>
            <div>Microphone: <span id="mic-status">Checking...</span></div>
            <button id="voice-toggle-btn">Start Listening</button>
            <button id="force-restart-btn" style="display: none;">🔄 Force Restart</button>
            <button id="diagnose-btn" style="display: none;">🔍 Diagnose</button>
            <button id="speech-toggle-btn" class="speech-toggle-btn">🔊 Speech: ON</button>
            <div>Last Command: <span id="last-command"></span></div>
            <div>Live Speech: <span id="live-speech"></span></div>
            <div id="voice-commands-section" class="voice-commands-section">
                <div class="voice-commands-title">Available Voice Commands</div>
                <div id="debug-panel" class="voice-commands-list"></div>
            </div>
            <div id="voice-transcript-section" class="voice-transcript-section">
                <div class="voice-transcript-header">
                    <div class="voice-transcript-title">📝 Continuous Voice Transcript</div>
                    <button id="clear-transcript-btn" class="clear-transcript-btn" title="Clear transcript">🗑️</button>
                </div>
                <div id="voice-transcript" class="voice-transcript-content"></div>
            </div>
            <div id="dsl-debug-section" class="dsl-debug-section">
                <div class="dsl-debug-header">
                    <div class="dsl-debug-title">🔍 DSL Debug</div>
                </div>
                <div id="dsl-debug" class="dsl-debug-content"></div>
            </div>
            <div id="dsl-commands-section" class="dsl-commands-section">
                <div class="dsl-commands-header">
                    <div class="dsl-commands-title">🔄 DSL Commands</div>
                    <button id="clear-dsl-btn" class="clear-dsl-btn" title="Clear DSL commands">🗑️</button>
                </div>
                <div id="dsl-commands" class="dsl-commands-content"></div>
            </div>

        </div>
    </div>

    <script src="../src/voice-translation/whisper.cpp.js"></script>
    <script src="../src/customer-care/llama-integration.js"></script>
    <script src="../src/customer-care/dsl-executor.js"></script>
    <script src="../src/customer-care/main.js"></script>
    <script>
        // Navigation functionality
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const targetId = link.getAttribute('href').substring(1);

                // Update active nav link
                document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
                link.classList.add('active');

                // Show target section
                document.querySelectorAll('.section').forEach(section => {
                    section.classList.remove('active');
                });
                document.getElementById(targetId).classList.add('active');
            });
        });

        // Form submission handlers
        document.querySelector('.return-form').addEventListener('submit', (e) => {
            e.preventDefault();
            alert('Return request submitted successfully! You will receive a confirmation email shortly.');
        });

        document.querySelector('.replacement-form').addEventListener('submit', (e) => {
            e.preventDefault();
            alert('Replacement request submitted successfully! Our team will review and contact you within 24 hours.');
        });

        function trackRequest() {
            const trackingNumber = document.getElementById('trackingNumber').value;
            if (trackingNumber) {
                document.getElementById('trackingResults').style.display = 'block';
            } else {
                alert('Please enter a tracking number.');
            }
        }
    </script>
</body>

</html>